# Unity VR虚拟现实完全自学教程

# 第 1 章 VR 行业概述

VR 行业目前处于发展早期阶段，在大众市场普及方面面临着挑战，行业生态尚需完善，硬件先发展还是内容先丰富，貌似是一个悖论，但我们应该看到，硬件技术正在飞速发展，硬件产业链上的厂家也在还渐提高产品性能，同时深度学习、SG 等技术也逐渐显露，随着Unity 等内容制作引擎的版本升级，使得开发者制作高品质 VR 应用程序的门槛也越来越低。我们有理由相信，VR 技术会在未来蓬勃发展。

# 第 2 章 Unity VR 概述

Unity 是当前业界领先的 VR/AR 内容制作工具，是大多数 VR/AR 创作者首选的开发工具，世界上超过 60%的 VR/AR 内容是用 Unity 制作完成的。Unity 为制作优质的 VR 应用程序提供了一系列先进的解决方案，无论是 VR、AR 还是MR，都可以依靠 Unity 高度优化的渲染流水线以及编辑器的快速迭代功能，使需求得以完美实现。基于跨平台的优势，Unity 支持市面上绝大多数的硬件平台，原生支持 Oculus Rift、 Steam VR/VIVE、 Play Station VR、Gear VR、Microsoft HoloLens 以及Google 的 Daydream View。

# 第 3 章 当前主流 VR 硬件

HTC VIVE （HTC 使用Value公司的Steam VR技术）、Oculus Rift（被Facebook收购前期版本使用SteamVR）、Gear VR（三星使用Oculus技术）、Cardboard（谷歌的开源初级VR方案）、Daydream 平台（第二代谷歌VR解决方案）

# 第 4 章 VR 应用程序开发工作流程

## 4.1 资源准备

## 4.2 模型优化及重拓扑

## 4.3 展 UV 的过程

## 4.4 材质贴图制作

## 4.5 将资源导入 Unity

## 4.6 导入开发工具包

## 4.7 场景搭建

## 4.8 设置光照环境

## 4.9 交互开发

## 4.10 测试优化

## 4.11 发布应用程序

## 4.12 常用开发工具

# 第 5 章 VR 交互设计原则

## 5.1 设计必要的新手引导

## 5.2 使用十字线（准星）

## 5.3 避免界面深度引起的疲劳感

## 5.4 使用恒定的速度 

## 5.5 保持用户在地面上

## 5.6 保持头部的跟踪

## 5.7 用光来引导用户的注意力

## 5.8 借助比例

## 5.9 使用空间音频

## 5.10 充分使用反馈

# 第 6 章 HTC VIVE 硬件

## 6.1 简介

## 6.2 产品特点

## 6.3 VIVE PRO

## 6.4 HTC VIVE 硬件拆解结构

### 6.4.1 头显

### 6.4.2 控制器

## 6.5 HTC VIVE 控制器按键名称

## 6.6 HTC VIVE 定位原理

## 6.7 Inside-Out 与 Out-Inside 位置跟踪技术

### 6.7.1 Outside-In 跟踪技术

### 6.7.2 Inside-Out 跟踪技术

## 6.8 HTC VIVE 的安装

# 第 7 章 VR 中的 UI

## 7.1 概述

## 7.2 将 UI 容器转换为世界空间坐标

## 7.3 VR 中的 UI 交互 

# 第 8 章 Unity VR 写实材质

## 8.1 Unity 材质基础

## 8.2 基于物理的渲染理论

## 8.3 PBR 材质的优势

### 8.3.1 高品质写实级别材质表现 

### 8.3.2 为实时渲染而生

### 8.3.3 标准的材质制作流程

## 8.4 PBR 材质主要贴图类型

### 8.4.1 颜色贴图（Albedo/Basecolor Map

### 8.4.2 金属贴图（Metallic Map）

### 8.4.3 光滑度贴图（Roughness Map） 

## 8.5 PBR 材质制作软件 

### 8.5.1 Substance Designer

### 8.5.2 Substance Painter 

### 8.5.3 Quixel Suite 

### 8.5.4 Marmoset Toolbag

## 8.6 制作 PBR 椅子材质

### 8.6.1 在 Substance Painter 中制作贴图

### 8.6.2 导出贴图到 Unity

## 8.7 Substance in Unity 的使用

# 第 9 章 SteamVR

## 9.1 SteamVR 简介

### 9.1.1 SteamVR Runtime 

### 9.1.2 SteamVR Plugin 

### 9.1.3 获取控制器引用及按键输入

## 9.2 使用SteamVR Plugin实现与物体的交互

## 9.3 InteractionSystem

### 9.3.1 InteractionSystem 核心模块

### 9.3.2 使用 InteractionSystem 实现传送

### 9.3.3 使用 InteractionSystem 实现与物体的交互

### 9.3.4 使用 InteractionSystem 实现与 UI 的交互

## 9.4 需要注意的问题

# 第 10 章 使用 VRTK 进行交互开发

## 10.1 VRTK 简介

### 10.1.1 什么是 VRTK

### 10.1.2 VRTK 能做什么

### 10.1.3 为什么选择 VRTK

### 10.1.4 未来版本

## 10.2 SteamVR Plugin、InteractionSystem 与 VRTK 的关系

## 10.3 配置 VRTK

### 10.3.1 一般配置过程

### 10.3.2 快速配置 VRTK

## 10.4 VRTK 中的指针

### 10.4.1 指针

### 10.4.2 指针渲染器 

## 10.5 在 VRTK 中实现传送

### 10.5.1 VRTK 中的传送类型

### 10.5.2 限定传送区域

### 10.5.3 在 VR 场景中实现传送 

## 10.6 使用 VRTK 实现与物体的交互

### 10.6.1 概述 

### 10.6.2 配置方法 

### 10.6.3 VRTK 的抓取机制

## 10.7 VRTK 中的控制器高亮和振动

### 10.7.1 控制器高亮

### 10.7.2 控制器振动

## 10.8 VRTK 中与 UI 的交互

## 10.9 实例：开枪射击效果

## 10.10 实例：攀爬效果

## 10.11 实例：实现释放自动吸附功能

# 第 11 章 将基于 PC 平台的应用移植到 VR 平台

## 11.1 项目移植分析

## 11.2 初始化 VR 交互

## 11.3 Player 的移植

## 11.4 设置道具为可交互对象

## 11.5 实现控制器与道具的交互逻辑

## 11.6 修改 UI 渲染模式为 World Space

## 11.7 玩家伤害闪屏效果

## 11.8 根据报错信息调整代码

## 11.9 游戏结束及重新开始

# 第 12 章 Leap Motion for VR

## 12.1 概述

## 12.2 硬件准备

## 12.3 软件环境

## 12.4 Leap Motion VR 初始开发环境

## 12.5 替换 Leap Motion 在 VR 环境中的手部模型

## 12.6 实现与 3D 物体的交互

## 12.7 实例：使用 Leap Motion 实现枪械的组装

# 第 13 章 VIVE Tracker 的使用

## 13.1 外观结构

## 13.2 使用场景

## 13.3 初次使用 Tracker 

## 13.4 使用 Tracker 作为控制器

## 13.5 使用 Tracker 与现实世界物体进行绑定

## 13.6 小结

# 第 14 章 Unity VR 游戏案例——《水果忍者 VR》原型开发

## 14.1 项目简介

## 14.2 初始化项目

## 14.3 配置武士刀

## 14.4 编写水果生成逻辑 

## 14.5 实现切割水果的效果

## 14.6 制作分数和游戏结束 UI

## 14.7 编写计分、计时和游戏结束等逻辑

# 第 15 章 Unity VR 案例—— Tilt Brush 原型开发

## 15.1 项目分析

## 15.2 初始化项目并编写脚本

## 15.3 实现修改笔刷颜色功能

## 15.4 扩展内容：将绘制交互修改为 VRTK 版本

## 15.5 异常处理

# 第16 章 Unity VR 性能优化工具和方法

# 16.1 Unity Profiler 

## 16.2 Memory Profiler

## 16.3 Frame Debugger

## 16.4 优化原则和措施

### 16.4.1 LOD 技术

### 16.4.2 较少 Draw Call 数量

### 16.4.3 使用单通道立体渲染

### 16.4.4 使用 The Lab Renderer

## 16.4.5 小结
